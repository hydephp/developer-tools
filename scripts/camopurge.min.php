<?php $ts=microtime(true);echo 'Purging GitHub Camo cache for Hyde Framework badges',"\n";echo 'Downloading README.md from GitHub',"\n";$r=file_get_contents('https://github.com/hydephp/framework/blob/master/README.md');echo 'Parsing README',"\n";$cl=[];$r=str_replace('<img src="',"\n<img src=\"",$r);$ls=explode("\n",$r);function pl($l){$link=substr($l,strpos($l,'https://camo.githubusercontent.com/'));return substr($link,0,strpos($link,'"'));}foreach($ls as $l){if(str_contains($l,'https://camo.githubusercontent.com/')){$cl[]=($link=pl($l));echo 'Found Camo link: ',$link,"\n";}}echo "Sending PURGE requests to Camo","\n";function p($u){echo"Purging $u","\n";echo shell_exec('curl -w "\n" -s -X PURGE '.$u);}foreach($cl as $u){p($u);}echo 'Done in '.round((microtime(true)-$ts)*1000,2).'ms',"\n";return exit(0);